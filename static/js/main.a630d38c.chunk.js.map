{"version":3,"sources":["utils/api.js","utils/auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/logo.svg","components/Header.js","components/Footer.js","images/VectorPen.svg","images/VectorPlus.svg","contexts/CurrentUserContext.js","images/Trash.svg","components/Card.js","components/Main.js","images/CloseIcon.svg","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","images/Check.svg","images/Oops.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["createFetchTemplate","url","headers","fetch","then","res","ok","json","Promise","reject","status","api","baseUrl","this","_baseUrl","_headers","userData","name","about","method","body","JSON","stringify","link","data","cardId","isLiked","localStorage","getItem","BASE_URL","Login","props","useState","email","setEmail","password","setPassword","history","useHistory","useEffect","push","className","onSubmit","e","preventDefault","auth","statusCode","Error","token","setItem","onSuccess","handleLogin","checkToken","console","log","catch","err","handleError","id","required","type","value","onChange","target","placeholder","to","Register","ProtectedRoute","isLoggedIn","children","Header","src","logo","alt","loggedUserEmail","path","onClick","onLogClick","logText","Footer","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","ownerId","_id","likes","some","i","onCardDelete","cardData","bin","onCardClick","onCardLike","likesCounter","Main","onEditAvatarClick","avatar","pen","onEditProfileClick","onAddPlaceClick","plus","cards","map","length","owner","ImagePopup","isOpen","onClose","crossIcon","fullViewLink","fullViewTitle","PopupWithForm","title","isSaving","submitButtonText","EditProfilePopup","setName","description","setDescription","onUpdateUser","minLength","maxLength","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","setTitle","onAddPlaceSubmit","InfoTooltip","isSuccessful","successIcon","failureIcon","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isPicturePopupOpen","setIsPicturePopupOpen","setCards","selectedCard","setSelectedCard","setCurrentUser","setIsSaving","setIsLoggedIn","setLoggedUserEmail","setIsSuccessful","isInfoTooltipOpen","setIsInfoTooltipOpen","useCallback","openInfoTooltip","closeAllPopups","getInitialCards","serverCards","closeByEscape","key","document","addEventListener","removeEventListener","Provider","clear","card","userId","changeLikeCardStatus","newCard","state","c","deleteCard","filter","item","editUserInfo","newUserData","finally","uploadUserAvatar","placeInfo","postNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a630d38c.chunk.js","sourcesContent":["export const createFetchTemplate = (url, headers) =>\n    fetch(url, headers)\n        .then(res => res.ok ? res.json() : Promise.reject(`Error ${res.status}`));\n\nclass Api {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    getInitialCards() {\n        return createFetchTemplate(`${this._baseUrl}/cards`, { headers: this._headers })\n    };\n\n    getUserInfo() {\n        return createFetchTemplate(`${this._baseUrl}/users/me`, { headers: this._headers })\n    };\n\n    editUserInfo(userData) {\n        const { name, about } = userData;\n        return createFetchTemplate(`${this._baseUrl}/users/me`, {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify({\n                name,\n                about,\n            })\n        })\n    }\n\n    uploadUserAvatar(link) {\n        return createFetchTemplate(`${this._baseUrl}/users/me/avatar`, {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify(link)\n        })\n    }\n    postNewCard(data) {\n        return createFetchTemplate(`${this._baseUrl}/cards`, {\n            headers: this._headers,\n            method: \"POST\",\n            body: JSON.stringify(data)\n        })\n    }\n\n    deleteCard(cardId) {\n        return createFetchTemplate(`${this._baseUrl}/cards/${cardId}`, {\n            headers: this._headers,\n            method: \"DELETE\"\n        })\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return createFetchTemplate(`${this._baseUrl}/cards/likes/${cardId}`, {\n            headers: this._headers,\n            method: !isLiked ? \"DELETE\" : \"PUT\",\n        })\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://api.cool-and-awesome.students.nomoreparties.sbs',\n    // baseUrl: 'http://localhost:3000',\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\n    },\n});\n\n// const api = new Api({\n//     baseUrl: 'https://around.nomoreparties.co/v1/group-12',\n//     headers: {\n//         authorization: \"c1d6862e-d39d-4724-bab0-a07d7562f2a3\",\n//         \"Content-Type\": \"application/json\",\n//     }\n// });\n\nexport default api;\n","import { createFetchTemplate } from './api';\nconst BASE_URL = 'https://api.cool-and-awesome.students.nomoreparties.sbs';\n// const BASE_URL = 'http://localhost:3000';\n\nexport const register = (email, password) => {\n    return createFetchTemplate(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n};\n\nexport const authorize = (email, password) => {\n    return createFetchTemplate(`${BASE_URL}/signin`, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n    })\n};\n\nexport const checkContent = (token) => {\n    return createFetchTemplate(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        }\n    })\n};\n\n// export const checkContent = () => {\n//     return createFetchTemplate(`${BASE_URL}/users/me`, {\n//         method: 'GET',\n//         headers: {\n//             authorization: \"c1d6862e-d39d-4724-bab0-a07d7562f2a3\",\n//             'Content-Type': 'application/json'\n//         }\n//     })\n// };","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as auth from '../utils/auth';\n\nfunction Login(props) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const history = useHistory();\n\n    const resetLoginForm = () => {\n        setEmail('');\n        setPassword('');\n    };\n\n    useEffect(() => {\n        if (localStorage.getItem('token')) {\n            history.push('/')\n        }\n    }, [history]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        auth.authorize(email, password)\n            .then((res) => {\n                if (!res || res.statusCode === 401) {\n                    throw new Error('Authorization failed!')\n                }\n                if (res && res.token) {\n                    history.push('/');\n                    localStorage.setItem('token', res.token);\n                    resetLoginForm();\n                    props.onSuccess();\n                    props.handleLogin();\n                    props.checkToken();\n                    console.log(res.token)\n                }\n            })\n            .catch((err) => {\n                props.handleError();\n            });\n    };\n\n    return (\n        <div className=\"login register\">\n            <h2 className=\"login__title register__title\">Log in</h2>\n            <form onSubmit={handleSubmit} className=\"login__form register__form\">\n                <input id=\"email\" required name=\"email\"\n                    className='register__input'\n                    type=\"email\" value={email}\n                    onChange={e => setEmail(e.target.value)}\n                    placeholder=\"Email\"\n                />\n                <input id=\"password\" required name=\"password\"\n                    className='register__input'\n                    type=\"password\" value={password}\n                    onChange={e => setPassword(e.target.value)}\n                    placeholder=\"Password\"\n                />\n                <button type=\"submit\" className=\"login__link register__submit\">\n                    Log in\n                </button>\n            </form>\n\n            <p className='register__signin'>Not a member yet?\n                <Link to=\"/register\" className=\"login__register-link register__login-link\">  Sign up here!</Link>\n            </p>\n\n        </div>\n    );\n}\n\nexport default Login;","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport * as auth from '../utils/auth';\n\nexport default function Register(props) {\n    const history = useHistory();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const resetRegistrationForm = () => {\n        setEmail('');\n        setPassword('');\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        auth.register(email, password)\n            .then((res) => {\n                if (!res || res.statusCode === 400) {\n                    throw new Error('Oops, something went wrong! Please try again.')\n                }\n            })\n            .then(() => {\n                props.onSuccess();\n                resetRegistrationForm();\n                history.push('/login');\n            })\n            .catch((err) => {\n                props.handleError()\n            });\n    };\n\n    useEffect(() => {\n        if (localStorage.getItem('token')) {\n            history.push('/')\n        }\n    }, [history]);\n\n    return (\n        <div className='register'>\n            <h2 className=\"register__title\">Sign up</h2>\n            <form className='register__form' onSubmit={handleSubmit}>\n                <input\n                    required\n                    className='register__input'\n                    name='email'\n                    value={email}\n                    type='email'\n                    onChange={e => setEmail(e.target.value)}\n                    placeholder=\"Email\" />\n\n                <input\n                    required\n                    className='register__input'\n                    name='password'\n                    value={password}\n                    type='password'\n                    onChange={e => setPassword(e.target.value)}\n                    placeholder=\"Password\"\n                />\n\n                <button type='submit' className='register__submit'>\n                    Sign up\n                </button>\n            </form>\n            <p className='register__signin'>Already a member?\n                <Link to='login' className='register__login-link'>  Log in here!</Link>\n            </p>\n        </div>\n    )\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n\nconst ProtectedRoute = ({ isLoggedIn, children, ...props }) => {\n\n  return (\n    <Route {...props}>\n      {isLoggedIn ? children : <Redirect to='/login' />}\n    </Route>\n  );\n};\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from '../images/logo.svg';\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n    return (\n        <div className=\"header\">\n            <img src={logo} alt=\"Around US logo\" className=\"header__logo\" />\n            <div className=\"header__user-status\">\n                <p className=\"header__user-email\">{props.loggedUserEmail}</p>\n                <Link to={props.path} className=\"header__log-button\" onClick={props.onLogClick}>{props.logText}</Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Header;","function Footer() {\n    return (\n        <div className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Around The U.S.</p>\n        </div>\n    )\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/VectorPen.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/VectorPlus.d86bb2ed.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/Trash.c4956c32.svg\";","import React from 'react';\nimport bin from '../images/Trash.svg'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext)\n    const isOwn = props.ownerId === currentUser._id;\n    const isLiked = props.likes.some(i => i === currentUser._id);\n\n    function handleCardClick() {\n        props.onCardClick(props.cardData);\n    }\n    function handleLikeClick() {\n        props.onCardLike(props.cardData);\n    };\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.cardData);\n    };\n\n    return (\n        <div className=\"place\">\n            <button type=\"button\" className={isOwn ? \"place__delete\" : \"place__delete_hidden\"} onClick={handleDeleteClick}><img src={bin} alt=\"trash bin\" /></button>\n            <img className=\"place__image\" src={`${props.link}`} alt=\"user content cards\" onClick={handleCardClick} />\n            <div className=\"place__description\">\n                <h2 className=\"place__title\">{props.name}</h2>\n                <div className=\"place__like-box\">\n                    <button type=\"button\" className={isLiked ? \"place__like_active\" : \"place__like\"} onClick={handleLikeClick}></button>\n                    <span className=\"place__like-counter\">{props.likesCounter}</span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Card","import React, { useContext } from 'react';\nimport pen from '../images/VectorPen.svg';\nimport plus from '../images/VectorPlus.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport Card from './Card';\n\nfunction Main(props) {\n   const currentUser = useContext(CurrentUserContext)\n    return (\n        <div className=\"main-content\">\n            <section className=\"profile\">\n                <button className=\"profile__avatar-container\" onClick={props.onEditAvatarClick}>\n                    <img src={currentUser.avatar} alt=\"Avatar\" className=\"profile__image\" />\n                    <div className=\"profile__avatar-overlay\">\n                        <img src={pen} alt=\"pen\" className=\"profile__avatar-pen\" />\n                    </div>\n                </button>\n                <div className=\"profile__info\">\n                    <div className=\"profile__name-line\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfileClick}>\n                            <img src={pen} alt=\"pen\" className=\"profile__edit-pen\" />\n                        </button>\n                    </div>\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlaceClick}>\n                    <img src={plus} alt=\"plus\" className=\"profile__plus\" />\n                </button>\n            </section>\n\n            <section className=\"places\">\n                {props.cards.map((data) => (\n                    <Card\n                        cardData={data}\n                        key={data._id}\n                        link={data.link}\n                        name={data.name}\n                        likesCounter={data.likes.length}\n                        ownerId={data.owner}\n                        likes={data.likes}\n                        cardId={data._id}\n                        onCardClick={props.onCardClick}\n                        onCardLike={props.onCardLike}\n                        onCardDelete={props.onCardDelete}\n                    />\n                ))}\n            </section>\n        </div>\n    )\n}\n\nexport default Main;","export default __webpack_public_path__ + \"static/media/CloseIcon.1f0b5bb9.svg\";","import * as React from 'react'\nimport crossIcon from '../images/CloseIcon.svg';\n\nfunction ImagePopup(props) {\n \n    return (\n        <div className={props.isOpen ? 'popup_active' : 'popup popup_type_picture'}>\n            <figure className=\"popup__pic-container\">\n                <button type=\"button\" className=\"popup__closer\" onClick={props.onClose}><img src={crossIcon} alt=\"Closing cross\" className=\"popup__x\" /></button>\n                <img src={props.fullViewLink} alt=\"user's place\" className=\"popup__image\" />\n                <figcaption className=\"popup__image-title\">{props.fullViewTitle}</figcaption>\n            </figure>\n        </div>\n    )\n}\n\nexport default ImagePopup;","import * as React from 'react'\nimport crossIcon from '../images/CloseIcon.svg';\n\nfunction PopupWithForm(props) {\n    return (\n        <div className={props.isOpen ? 'popup_active' : `popup popup_type_${props.name}`}>\n            <div className=\"popup__window\">\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <button type=\"button\" className=\"popup__closer\" onClick={props.onClose}><img src={crossIcon} alt=\"Closing cross\" className=\"popup__x\" /></button>\n                <form className={`popup__form popup__form_type_${props.name}`} onSubmit={props.onSubmit}>\n                    {props.children}\n                    <button type=\"submit\" className=\"popup__submit\">{props.isSaving ? \"Saving...\" : props.submitButtonText}</button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithForm;","import React, { useState, useEffect, useContext } from 'react'\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n    const currentUser = useContext(CurrentUserContext);\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n    useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, props.isOpen]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleJobChange(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n            name,\n            about: description,\n        })\n    }\n\n    return (\n        <PopupWithForm name=\"edit\" title=\"Edit profile\" submitButtonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isSaving={props.isSaving}>\n            <input id=\"name-input\" className=\"popup__input popup__input_text_name\" type=\"text\" name=\"name\" placeholder=\"Jacques Cousteau\" minLength=\"2\" maxLength=\"40\" required value={name || \"\"} onChange={handleNameChange} />\n            <span id=\"name-input-error\" className=\"popup__error-message\"></span>\n            <input id=\"profession-input\" className=\"popup__input popup__input_text_profession\" type=\"text\" name=\"profession\" placeholder=\"Explorer\" minLength=\"2\" maxLength=\"200\" required value={description || \"\"} onChange={handleJobChange} />\n            <span id=\"profession-input-error\" className=\"popup__error-message\"></span>\n        </PopupWithForm>\n    )\n}\n\n","import { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup(props) {\n    const avatar = useRef('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({\n            avatar: avatar.current.value,\n        })\n    };\n\n    return (\n        <PopupWithForm name=\"avatar\" title=\"Change profile picture\" submitButtonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit = {handleSubmit} isSaving={props.isSaving}>\n        <input ref={avatar} id=\"image-url-input\" className=\"popup__input popup__input_text_link\" type=\"url\" name=\"avatar\" placeholder=\"https://somewebsite.com/someimage.jpg\" required />\n        <span id=\"image-url-input-error\" className=\"popup__error-message\"></span>\n    </PopupWithForm>\n    )\n}","import { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup(props) {\n    const [link, setLink] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n\n   useEffect(() => {\n        setTitle('');\n        setLink('');\n    }, [props.isOpen]);\n    \n    function handleLinkUpdate(e) {\n        setLink(e.target.value);\n    };\n\n    function handleTitleUpdate(e) {\n        setTitle(e.target.value);\n    };\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlaceSubmit({\n            link,\n            name: title\n        });\n    };\n\n    return (\n        <PopupWithForm name=\"add\" title=\"New place\" submitButtonText=\"Create\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isSaving={props.isSaving}>\n        <input id=\"toponym-input\" className=\"popup__input popup__input_text_toponym\" type=\"text\" name=\"name\" placeholder=\"Title\" minLength=\"1\" maxLength=\"30\" value={title} required onChange={handleTitleUpdate}/>\n        <span id=\"toponym-input-error\" className=\"popup__error-message\"></span>\n        <input id=\"url-input\" className=\"popup__input popup__input_text_link\" type=\"url\" name=\"link\" placeholder=\"Image URL\" value={link} required onChange={handleLinkUpdate}/>\n        <span id=\"url-input-error\" className=\"popup__error-message\"></span>\n    </PopupWithForm>\n    )\n}","export default __webpack_public_path__ + \"static/media/Check.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Oops.df8eddf6.svg\";","import * as React from 'react'\nimport crossIcon from '../images/CloseIcon.svg';\nimport successIcon from '../images/Check.svg';\nimport failureIcon from '../images/Oops.svg';\n\nfunction InfoTooltip(props) {\n \n    return (\n        <div className={props.isOpen ? 'popup_active' : 'popup'}>\n            <div className=\"popup__window\">\n                <button type=\"button\" className=\"popup__closer\" onClick={props.onClose}><img src={crossIcon} alt=\"Closing cross\" className=\"popup__x\" /></button>\n                <img src={props.isSuccessful ? successIcon : failureIcon} alt=\"registration status icon\" className=\"popup__icon\" />\n                <p className=\"popup__register-message\">{props.isSuccessful ? 'Success! You have now been registered.' : 'Oops, something went wrong! Please try again.'}</p>\n                </div>\n        </div>\n    )\n}\n\nexport default InfoTooltip;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [isPicturePopupOpen, setIsPicturePopupOpen] = useState(false);\n    const [cards, setCards] = useState([]);\n    const [selectedCard, setSelectedCard] = useState({});\n    const [currentUser, setCurrentUser] = useState({});\n    const [isSaving, setIsSaving] = useState(false);\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [loggedUserEmail, setLoggedUserEmail] = useState(null);\n    const [isSuccessful, setIsSuccessful] = useState(false)\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n    const history = useHistory();\n\n\n    const checkToken = useCallback(() => {\n        const token = localStorage.getItem('token');\n        if (!token) {\n            history.push('/login');\n            setIsLoggedIn(false)\n        }\n        if (token) {\n            auth.checkContent(token)\n                .then((currentUser) => {\n                    if (currentUser) {\n                        history.push('/');\n                        setIsLoggedIn(true);\n                        setCurrentUser(currentUser.data);\n                        setLoggedUserEmail(currentUser.data.email);\n                        localStorage.setItem('currentUserId', currentUser.data._id);\n                    }\n                })\n                .catch((err) => {\n                    setIsSuccessful(false);\n                    openInfoTooltip();\n                })\n        }\n    }, [history]);\n\n    useEffect(() => {\n        checkToken()\n    }, [checkToken]);\n\n\n    function openInfoTooltip() {\n        setIsInfoTooltipOpen(true);\n    };\n\n    const handleLogin = () => {\n        setIsLoggedIn(true);\n    };\n\n    const handleLogout = () => {\n        localStorage.clear();\n        history.push('/login');\n        setIsLoggedIn(false);\n        setCurrentUser({});\n        closeAllPopups();\n    };\n\n\n\n    useEffect(() => {\n        api.getInitialCards()\n            .then(serverCards => {\n                setCards(serverCards.data);\n            })\n            .catch(err => {\n                console.log(`Server returned this error: ${err.status}`)\n            })\n    }, []);\n\n\n    function openEditProfilePopup() {\n        setIsEditProfilePopupOpen(true);\n    };\n\n    function openAddPlacePopup() {\n        setIsAddPlacePopupOpen(true);\n    };\n\n    function openEditAvatarPopup() {\n        setIsEditAvatarPopupOpen(true);\n    };\n\n    function openPicturePopup() {\n        setIsPicturePopupOpen(true)\n    };\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setIsPicturePopupOpen(false);\n        setIsInfoTooltipOpen(false);\n        setSelectedCard({});\n    };\n\n    useEffect(() => {\n        const closeByEscape = (e) => {\n            if (e.key === 'Escape') {\n                closeAllPopups();\n            }\n        }\n        document.addEventListener('keydown', closeByEscape)\n        return () => document.removeEventListener('keydown', closeByEscape)\n    }, [])\n\n\n    function handleUpdateUser(userData) {\n        setIsSaving(true)\n        api.editUserInfo(userData)\n            .then(newUserData => {\n                setCurrentUser(newUserData.data);\n                closeAllPopups();\n            })\n            .catch(err => {\n                console.log(\"Server returned this error:\", err)\n            })\n            .finally(() => { setIsSaving(false) });\n    };\n\n    function handleUpdateAvatar(link) {\n        setIsSaving(true)\n        api.uploadUserAvatar(link)\n            .then(res => {\n                setCurrentUser(res.data);\n                closeAllPopups();\n            })\n            .catch(err => {\n                console.log(\"Server returned this error:\", err)\n            })\n            .finally(() => { setIsSaving(false) });\n    };\n\n    function handleAddPlaceSubmit(placeInfo) {\n        setIsSaving(true)\n        api.postNewCard(placeInfo)\n            .then(res => {\n                setCards([res.data, ...cards]);\n                closeAllPopups();\n            })\n            .catch(err => {\n                console.log(\"Server returned this error:\", err)\n            })\n            .finally(() => { setIsSaving(false) });\n    };\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n        openPicturePopup();\n    }\n\n    function handleCardLike(card) {\n        const userId = localStorage.getItem('currentUserId')\n        const isLiked = card.likes.some(i => i === userId);\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then(newCard => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard.data : c));\n            })\n            .catch(err => {\n                console.log(\"Server returned this error:\", err)\n            });\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                setCards(cards.filter((item) => item._id !== card._id));\n            })\n            .catch(err => {\n                console.log(\"Server returned this error:\", err)\n            })\n    };\n\n    return (\n        <div className=\"page-container\">\n            <Switch>\n                <Route path='/register'>\n                    <Header\n                        logText=\"Log in\"\n                        path={'/login'}\n                    />\n                    <Register\n                        handleError={() => {\n                            setIsSuccessful(false);\n                            openInfoTooltip()\n                        }\n                        }\n                        onSuccess={() => {\n                            setIsSuccessful(true);\n                            openInfoTooltip()\n                        }} />\n                </Route>\n                <Route path='/login'>\n                    <Header\n                        logText=\"Sign up\"\n                        path={'/register'}\n                    />\n                    <Login\n                        onSuccess={() => {\n                            setIsSuccessful(true);\n                            openInfoTooltip()\n                        }}\n                        handleError={() => {\n                            setIsSuccessful(false);\n                            openInfoTooltip()\n                        }\n                        }\n                        checkToken={checkToken}\n                        handleLogin={handleLogin} />\n                </Route>\n\n                <CurrentUserContext.Provider value={currentUser}>\n                    <ProtectedRoute path='/' isLoggedIn={isLoggedIn}>\n                        <Header\n                            loggedUserEmail={loggedUserEmail}\n                            logText=\"Log out\"\n                            path={'/login'}\n                            onLogClick={handleLogout}\n                        />\n\n                        <Main\n                            onEditAvatarClick={openEditAvatarPopup}\n                            onEditProfileClick={openEditProfilePopup}\n                            onAddPlaceClick={openAddPlacePopup}\n                            cards={cards}\n                            onCardClick={handleCardClick}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleCardDelete}\n                        />\n\n                        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isSaving={isSaving} />\n\n                        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isSaving={isSaving} />\n\n                        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit} isSaving={isSaving} />\n\n                        <ImagePopup isOpen={isPicturePopupOpen} onClose={closeAllPopups} fullViewTitle={selectedCard.name} fullViewLink={selectedCard.link} />\n                    </ProtectedRoute>\n                </CurrentUserContext.Provider>\n\n                <Route path='/'>\n                    {isLoggedIn ? <Redirect to='/' /> : <Redirect to='/login' />}\n                </Route>\n            </Switch>\n            <Footer />\n            <InfoTooltip isOpen={isInfoTooltipOpen} isSuccessful={isSuccessful} onClose={closeAllPopups} />\n        </div >\n    );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render((\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>),\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}